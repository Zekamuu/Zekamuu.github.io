

<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>FTC Robotics, Year 1 - </title>

  <meta name="description" content="What I built in the first year on the team"><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Rohan\u0027s Engineering Portfolio",
    
    "url": "https:\/\/Zekamuu.github.io\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/Zekamuu.github.io\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/Zekamuu.github.io\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/Zekamuu.github.io\/projects\/ftc-year-one\/",
          "name": "Ftc robotics, year 1"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : ""
  },
  "headline": "FTC Robotics, Year 1",
  "description" : "What I built in the first year on the team",
  "inLanguage" : "en",
  "wordCount":  866 ,
  "datePublished" : "0001-01-01T00:00:00\u002b00:00",
  "dateModified" : "0001-01-01T00:00:00\u002b00:00",
  "image" : "https:\/\/Zekamuu.github.io\/",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/Zekamuu.github.io\/projects\/ftc-year-one\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/Zekamuu.github.io\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/Zekamuu.github.io\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>


<meta property="og:title" content="FTC Robotics, Year 1" />
<meta property="og:description" content="What I built in the first year on the team">
<meta property="og:image" content="https://Zekamuu.github.io/img/bot-screenshot.jpg" />
<meta property="og:url" content="https://Zekamuu.github.io/projects/ftc-year-one/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Rohan&#39;s Engineering Portfolio" />

  <meta name="twitter:title" content="FTC Robotics, Year 1" />
  <meta name="twitter:description" content="What I built in the first year on the team">
  <meta name="twitter:image" content="https://Zekamuu.github.io/img/bot-screenshot.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="generator" content="Hugo 0.153.3">
  <link rel="alternate" href="https://Zekamuu.github.io/index.xml" type="application/rss+xml" title="Rohan&#39;s Engineering Portfolio"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v7.0.1/css/brands.css" integrity="sha384-+eXGm6TmVoCZR1gX03US+L++L2mJIfOvp2X0+luTuEktXaF5F+e3zn0sO0HBvOyT" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v7.0.1/css/fontawesome.css" integrity="sha384-B5nyPZa7e84uCJEYHtevCdVYtQosWsbDSRtq3cy/jeSVtQW05GL8CKXO7waXsjPK" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v7.0.1/css/regular.css" integrity="sha384-V71z/A/p/DGaZAryHhiSXRQj8HdQmK2nBgL2bX23MGD+h6ZKpyxOO76f5eSXmIaj" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v7.0.1/css/solid.css" integrity="sha384-1IIShlrK5iYgvS7OAgIH3prz4RAFP7hHZ2MaLIb9l3+trFwwnw/NdCWcUHlymZDU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v7.0.1/css/svg.css" integrity="sha384-iBa7uugTOHXqQ2ngvDYJyKrPPQbd9n2P3EQe+o/0+HZe5TNvV+LO5X0lLLUrXLHP" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v7.0.1/css/svg-with-js.css" integrity="sha384-STWnS5AGz6M2YxsnGAd536EqcE2y+ktGovMMuhtXLsCBtl7lujeQj2eN4eDxa57x" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v7.0.1/css/v4-font-face.css" integrity="sha384-fH83IkgQi7kturzlxpXfNdsR8aUOcqj5HUORRVnSvJgObZkIw6aqKAaQx20IWyB/" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v7.0.1/css/v4-shims.css" integrity="sha384-cCODJHSivNBsaHei/8LC0HUD58kToSbDU+xT7Rs51BO1v/IvgT/uM0W6xMoUqKfn" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v7.0.1/css/v5-font-face.css" integrity="sha384-atSdF89mIn15dv+o2LKkDM6mCh3hwh6A7mwZ6F2it/kenqZbMu+QW/ye1OG4XSWV" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous"><link rel="stylesheet" href="https://Zekamuu.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://Zekamuu.github.io/css/syntax.css" /><link rel="stylesheet" href="https://Zekamuu.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">

  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://Zekamuu.github.io/">Rohan&#39;s Engineering Portfolio</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Projects" href="/projects">Projects</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/page/about">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="projects-heading">
              
                <h1>FTC Robotics, Year 1</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Objective<br>
Primary: Quickly pick up cones and score them on low, medium, and high junctions.<br>
Autonomous: Score pre-loaded cone, detect randomized signal sleeve, and park reliably.<br>
Driver-Controlled: Enable driver to score as many cones as possible in 2 minutes, prioritizing speed and ease of use.</p>
<p>Design Process<br>
Identified the need for a holonomic drivetrain for agility, leading to the selection of a Mecanum Drive.<br>
Determined that a multi-stage Cascading Linear Lift (Viper Slide) would provide the necessary reach and stability to score on the high junction</p>
<p>Prototyping:<br>
Hardware: Built a 4-motor Mecanum chassis, a 3-stage lift actuated by a single motor with Dyneema rigging, and a 3D-printed two-servo claw with foam inserts for grip.</p>
<p>Iteration:<br>
Autonomous: Implemented TensorFlow Lite with a custom-trained model to detect three possible AprilTag signals. Wrote encoder-based movement paths to strafe and park based on the vision result.<br>
Tele-Op: Refined lift controls from simple manual power to a precise, encoder-based RUN_TO_POSITION system. This allowed the driver to set a target height, and the robot&rsquo;s PID controller would move to and hold that position automatically</p>
<p>Hardware Abstraction<br>
BaseOpMode is responsible for mapping all the robot&rsquo;s hardware components from the configuration file to Java objects. This centralized approach ensures consistency across all OpModes.<br>
Mecanum Drivetrain: Four DcMotorEx motors (leftFront, rightFront, leftBack, rightBack) are configured for a mecanum drive, allowing for holonomic movement (strafing). Motor directions are reversed as needed to ensure intuitive forward motion.</p>
<pre tabindex="0"><code>rightFront.setDirection(DcMotor.Direction.REVERSE);
leftFront.setDirection(DcMotor.Direction.REVERSE);
leftBack.setDirection(DcMotor.Direction.REVERSE);
rightBack.setDirection(DcMotor.Direction.REVERSE);
</code></pre><p>Vision System: TensorFlow Object Detection</p>
<p>The robot uses the TensorFlow Object Detection API to identify the randomized  signal on the sleeve.<br>
Model and Labels: A custom-trained TensorFlow Lite model is loaded from the robot controller&rsquo;s storage. This model is trained to recognize three custom labels: &ldquo;s1&rdquo;, &ldquo;s4&rdquo;, and &ldquo;s5&rdquo;, which correspond to the three possible images on the signal sleeve.</p>
<pre tabindex="0"><code>private static final String TFOD\_MODEL\_FILE = &#34;/sdcard/FIRST/tflitemodels/model\_20221023\_141235.tflite&#34;;
private static final String[] LABELS = {
  &#34;s1&#34;,
  &#34;s4&#34;,
  &#34;s5&#34;
};
</code></pre><p>Detection Logic: After the OpMode starts, the robot enters a loop, scanning for recognitions from the TensorFlow engine. It iterates through detected objects, summing the confidence scores for each of the three possible labels. The label with the highest cumulative confidence above a threshold (0.8f) is selected as the identified signal (selectedSymbol).</p>
<pre tabindex="0"><code>float maxValue = 0.8f;
int i = 0;
for (float confidence : symbolConfidences){
    if (confidence &gt; maxValue){
        maxValue = confidence;
        selectedSymbol = i;
    }    
    i += 1;
}
</code></pre><p>Autonomous Pathing<br>
The autonomous routine is a sequence of encoder-based movements.<br>
Initial Movement: The robot drives forward a set distance (1100 encoder ticks) to position itself for scanning the signal sleeve.<br>
Signal Detection: The TensorFlow detection loop runs until a signal is confidently identified.<br>
Parking: Based on the value of selectedSymbol (0, 1, or 2), the robot executes a specific movement to park in the correct zone. The code implements paths for symbols 0 and 2, which involve strafing left or right.</p>
<pre tabindex="0"><code>switch(selectedSymbol){
    case 0: // Strafe Left
        leftFront.setTargetPosition(0);
        rightFront.setTargetPosition(2200);
        leftBack.setTargetPosition(2200);
        rightBack.setTargetPosition(0);
        break;
    case 2: // Strafe Right
        leftFront.setTargetPosition(2200);
        rightFront.setTargetPosition(0);
        leftBack.setTargetPosition(0);
        rightBack.setTargetPosition(2200);
        break;
}
</code></pre><p>This routine reliably parks the robot, fulfilling a key requirement of the autonomous period. Scoring the pre-loaded cone would be the next logical step to implement in this sequence.</p>
<p>Drivetrain Control<br>
The robot uses a field-oriented mecanum drive, but the current implementation in TeleOpMain.java uses a simpler robot-oriented control scheme for rotation.
Mecanum Kinematics: The left joystick&rsquo;s X and Y values are used to calculate a movement vector (magnitude and direction). These are translated into individual power levels for each of the four mecanum wheels, allowing for omnidirectional movement.<br>
Rotation: The right joystick&rsquo;s X value (oldRotation) is added to the wheel power calculations to make the robot turn. While there is code present for IMU-based heading correction, it appears the simpler, direct joystick rotation is currently in use for driving. This prioritizes direct driver feedback</p>
<pre tabindex="0"><code>float leftFrontPower = magnitude * (float)Math.sin(direction + Math.PI / 4) + oldRotation;
float leftBackPower = magnitude * (float)Math.sin(direction - Math.PI / 4) + oldRotation;
float rightFrontPower = magnitude * (float)Math.sin(direction - Math.PI / 4) - oldRotation;
float rightBackPower = magnitude * (float)Math.sin(direction + Math.PI / 4) - oldRotation;
</code></pre><p>Lift<br>
The D-pad (dpad_up, dpad_down) is used to increment or decrement a targetPosition for the lift motors. The motors, running in RUN_TO_POSITION mode, automatically move to and hold this precise height. This is ideal for quickly selecting the low, medium, or high junction heights.</p>
<pre tabindex="0"><code>if(motorUp){
    targetPosition += liftSpeed;
} else if (motorDown){
    targetPosition -= liftSpeed;
}
// Clamp targetPosition to min/maxPosition
targetPosition = (int)
    Math.min(maxPosition,
    Math.max(minPosition, targetPosition)
    );
motorOne.setTargetPosition(targetPosition);
</code></pre><p>Claw<br>
The left trigger <code>(gamepad1.left_trigger)</code>, an analog input, directly controls the position of the two claw servos. This allows the driver to have fine-grained control over how tightly the cone is gripped</p>
<pre tabindex="0"><code>float clawOpen = gamepad1.left_trigger;
clawServoRight.setPosition(clawOpen);

clawServoLeft.setPosition(1-clawOpen);
</code></pre><p>The project includes several simple test OpModes (<code>ClawServoTest.java</code>, <code>LiftMotorTest.java</code>, <code>TankDrive.java</code>, <code>ArcadeDrive.java</code>) that were used during development to isolate and validate individual hardware components before integrating them into the main OpModes.</p>
<p>Outcome</p>
<p>A competitive robot with a robust and modular software architecture.</p>
<blockquote>
<p>The autonomous mode reliably detected the signal sleeve and parked in the correct zone
The driver-controlled mode was highly effective, featuring precise lift controls and intuitive operation that enabled efficient cone scoring cycles.</p>
</blockquote>


        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
          
        </ul>
      


      

    </div>
  </div>
</div>

      <footer>
  <div class="container">
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&bull;&nbsp;&copy;
          
            0001
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://Zekamuu.github.io/">Rohan&#39;s Engineering Portfolio</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.153.3</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js" integrity="sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

<script src="https://Zekamuu.github.io/js/main.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://Zekamuu.github.io/js/load-photoswipe.js"></script>










    
  </body>
</html>

